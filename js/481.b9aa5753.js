"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[481],{7539:function(e,s,a){a.d(s,{Z:function(){return m}});var o=a(6252),i=a(5587);const n={alt:"loading.gif",src:i};function t(e,s,a,i,t,r){return(0,o.wg)(),(0,o.iD)("img",n)}var r={},l=a(3744);const d=(0,l.Z)(r,[["render",t]]);var m=d},7481:function(e,s,a){a.r(s),a.d(s,{default:function(){return W}});var o=a(6252),i=a(3577),n=a(6355);const t=e=>((0,o.dD)("data-v-50a572bf"),e=e(),(0,o.Cn)(),e),r={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"350px"}},l=t((()=>(0,o._)("h2",{class:"fw-bold"},"管理員登入",-1))),d={class:"container mt-5 mb-5"},m={class:"row"},c=t((()=>(0,o._)("img",{class:"col-6 d-none d-md-block login-img px-0 shadow-lg rounded",src:n,alt:"login-img"},null,-1))),u={class:"col-md-6 d-flex flex-column align-items-center"},p={class:"w-100 my-auto"},f=t((()=>(0,o._)("div",{class:"fs-1"},"LOG IN",-1))),g={class:"form-floating mb-3"},h=t((()=>(0,o._)("label",{for:"email"},"Email address",-1))),b={class:"form-floating"},v=t((()=>(0,o._)("label",{for:"password"},"Password",-1))),w=t((()=>(0,o._)("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)));function _(e,s,a,n,t,_){const x=(0,o.up)("LoadingComponent"),k=(0,o.up)("VLoading"),y=(0,o.up)("VField"),L=(0,o.up)("ErrorMessage"),V=(0,o.up)("VForm");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(k,{active:t.isLoading,"z-index":1060},{default:(0,o.w5)((()=>[(0,o.Wm)(x)])),_:1},8,["active"]),(0,o._)("div",r,[(0,o._)("div",{class:"position-absolute",style:(0,i.j5)([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.3"},{backgroundImage:`url(${t.BannerImage})`}])},null,4),l]),(0,o._)("div",d,[(0,o._)("div",m,[c,(0,o._)("div",u,[(0,o._)("div",p,[f,(0,o.Wm)(V,{ref:"form",id:"form",class:"form-signin",onSubmit:_.login},{default:(0,o.w5)((({errors:e})=>[(0,o._)("div",g,[(0,o.Wm)(y,{id:"email",name:"email",type:"email",class:(0,i.C_)(["form-control",{"is-invalid":e["email"]}]),rules:"required|email",modelValue:t.form.user.email,"onUpdate:modelValue":s[0]||(s[0]=e=>t.form.user.email=e),placeholder:"name@example.com",required:"",autofocus:"",autocomplete:"off"},null,8,["class","modelValue"]),h,(0,o.Wm)(L,{name:"email",class:"invalid-feedback"})]),(0,o._)("div",b,[(0,o.Wm)(y,{id:"password",name:"password",type:"password",class:(0,i.C_)(["form-control",{"is-invalid":e["password"]}]),rules:"required",modelValue:t.form.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>t.form.user.password=e),placeholder:"Password",required:"",autofocus:"",autocomplete:""},null,8,["class","modelValue"]),v,(0,o.Wm)(L,{name:"password",class:"invalid-feedback"})]),w])),_:1},8,["onSubmit"])])])])])],64)}var x=a(4902),k=a(7539),y=a(8722),L={components:{LoadingComponent:k.Z},data(){return{form:{user:{email:"",password:""}},isLoading:!1,BannerImage:y}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.isLoading=!0,console.log(this.form.user.email,this.form.user.password);const s={username:this.form.user.email,password:this.form.user.password};this.$http.post(e,s).then((e=>{const{token:s,expired:a}=e.data;document.cookie=`hexToken=${s};expires=${new Date(a)}; path=/`,this.isLoading=!1,this.$router.push("/admin/products")})).catch((e=>{console.dir(e),x.Z.emit("push-message",{style:"danger",title:`${e.response.data.message}`}),this.isLoading=!1}))}}},V=a(3744);const C=(0,V.Z)(L,[["render",_],["__scopeId","data-v-50a572bf"]]);var W=C},8722:function(e,s,a){e.exports=a.p+"img/banner3.3ef48998.jpg"},6355:function(e,s,a){e.exports=a.p+"img/login1.bda289b3.jpg"},5587:function(e,s,a){e.exports=a.p+"img/panda_loading_2.205e407c.gif"}}]);
//# sourceMappingURL=481.b9aa5753.js.map