"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[521],{9403:function(t,s,e){e.r(s),e.d(s,{default:function(){return E}});var i=e(6252),a=e(3577),o=e(9963);const c={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"350px"}},d=(0,i._)("h2",{class:"fw-bold"},"單一產品",-1),r={class:"container my-5"},n={class:"row row-cols-1 row-cols-md-2"},l={class:"col"},u={class:"col"},p={"aria-label":"breadcrumb"},g={class:"breadcrumb mt-3"},m={class:"breadcrumb-item"},h=(0,i.Uk)("產品頁面"),b={class:"breadcrumb-item active","aria-current":"page"},_={class:""},w={class:"text-start fs-2"},v={class:"badge rounded-pill bg-success"},y={class:"product-description text-secondary text-start fs-5 mt-3"},f={class:"product-content text-secondary text-start fs-5 mt-3"},k={class:"fw-bold text-md-start text-danger fs-3 mt-4"},x={class:"text-md-start fs-6 small text-muted"},$={class:"input-group mt-4"},L=(0,i._)("h2",{class:"my-5"},"相關產品",-1),z={class:"overflow-hidden"},C={class:"card-body text-start"},q={class:"card-title fs-4 fw-bold"},I={class:"position-absolute start-90 translate-middle badge rounded-pill bg-success fs-7"},P={class:"card-text d-flex justify-content-between"},U={class:"fw-bold card-text text-danger fs-5 my-1"},j={class:"m-start fs-6 small text-muted"},W=["onClick","disabled"],B=(0,i._)("i",{class:"bi bi-cart-plus fs-3"},null,-1),T=[B];function V(t,s,e,B,V,Z){const N=(0,i.up)("LoadingComponent"),O=(0,i.up)("VLoading"),S=(0,i.up)("router-link"),D=(0,i.up)("swiper-slide"),H=(0,i.up)("swiper");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(O,{active:V.isLoading,"z-index":1060},{default:(0,i.w5)((()=>[(0,i.Wm)(N)])),_:1},8,["active"]),(0,i._)("div",c,[(0,i._)("div",{class:"position-absolute",style:(0,a.j5)([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.3"},{backgroundImage:`url(${V.BannerImage})`}])},null,4),d]),(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("div",l,[(0,i._)("div",{class:"h-100 product-img",style:(0,a.j5)([{backgroundImage:`url(${V.product.imagesUrl})`},{"background-size":"cover",position:"relative","background-repeat":"no-repeat","background-position":"center 70%"}])},null,4)]),(0,i._)("div",u,[(0,i._)("nav",p,[(0,i._)("ol",g,[(0,i._)("li",m,[(0,i.Wm)(S,{to:"/products",class:"text-decoration-none"},{default:(0,i.w5)((()=>[h])),_:1})]),(0,i._)("li",b,(0,a.zw)(V.product.title),1)])]),(0,i._)("div",_,[(0,i._)("div",w,[(0,i.Uk)((0,a.zw)(V.product.title)+" ",1),(0,i._)("small",v,(0,a.zw)(V.product.category),1)]),(0,i._)("div",y,(0,a.zw)(V.product.description),1),(0,i._)("div",f,(0,a.zw)(V.product.content),1),(0,i._)("div",k,[(0,i.Uk)(" NT $"+(0,a.zw)(V.product.price)+" 元 ",1),(0,i._)("del",x,(0,a.zw)(V.product.origin_price)+" 元",1)]),(0,i._)("div",$,[(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>V.qty=t),min:"1"},null,512),[[o.nr,V.qty,void 0,{number:!0}]]),(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=t=>Z.addToCart(V.product.id,V.product.title,V.qty))}," 加入購物車 ")])])])]),(0,i._)("div",null,[L,(0,i.Wm)(H,{modules:V.modules,Navigation:"",pagination:{clickable:!1},loop:!1,breakpoints:{640:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:30}},autoplay:{delay:1500,disableOnInteraction:!1,pauseOnMouseEnter:!0}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.products,(t=>((0,i.wg)(),(0,i.j4)(D,{key:t.id},{default:(0,i.w5)((()=>[(0,i._)("div",z,[(0,i.Wm)(S,{to:`/product/${t.id}`,class:""},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"card-img-top card-img-scale",style:(0,a.j5)([{height:"300px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)])),_:2},1032,["to"])]),(0,i._)("div",C,[(0,i._)("h5",q,[(0,i.Uk)((0,a.zw)(t.title)+" ",1),(0,i._)("span",I,(0,a.zw)(t.category),1)]),(0,i._)("div",P,[(0,i._)("p",U,[(0,i.Uk)(" NT $"+(0,a.zw)(t.price)+" 元 ",1),(0,i._)("del",j,(0,a.zw)(t.origin_price)+" 元",1)]),(0,i._)("button",{onClick:(0,o.iM)((s=>Z.addToCart(t.id,t.title)),["prevent"]),disabled:V.isLoadingItem===t.id,class:"card-link text-decoration-none btn btn-outline-primary"},T,8,W)])])])),_:2},1024)))),128))])),_:1},8,["modules"])])])],64)}var Z=e(7539),N=e(4902),O=e(8722),S=e(3181),D=e(1911),H={components:{LoadingComponent:Z.Z,Swiper:S.tq,SwiperSlide:S.o5},data(){return{product:{},products:{},qty:1,isLoading:!1,isLoadingItem:"",BannerImage:O,modules:[D.W_,D.tl,D.pt]}},watch:{qty(t,s){t<=0&&(this.qty=s)},$route(t){this.id=t.params.id,this.getProduct()}},methods:{getProducts(t=1){this.isLoading=!0;const s=this.product.category;this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/clothes/products/?page=${t}&category=${s}`).then((t=>{this.products=t.data.products;const{id:s}=this.product;this.products=Object.values(this.products).filter((t=>t.id!==s)),this.isLoading=!1})).catch((t=>{console.dir(t),this.isLoading=!1}))},getProduct(){const{id:t}=this.$route.params;this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/v2/api/clothes/product/${t}`;this.$http.get(s).then((t=>{this.product=t.data.product,this.getProducts(),console.log(this.product),this.isLoading=!1})).catch((t=>{console.dir(t.data),this.isLoading=!1}))},addToCart(t,s,e=1){const i={product_id:t,qty:e};this.isLoading=!0;const a="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.$http.post(a,{data:i}).then((t=>{this.qty=1,N.Z.emit("get-cart-num"),N.Z.emit("push-message",{style:"success",title:`${s}${t.data.message}`}),this.isLoading=!1})).catch((t=>{this.isLoading=!1,N.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))}},mounted(){this.getProduct()}},M=e(3744);const Y=(0,M.Z)(H,[["render",V]]);var E=Y}}]);
//# sourceMappingURL=521.40a6ecc9.js.map