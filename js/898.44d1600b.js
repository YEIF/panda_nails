"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[898],{908:function(t,e,i){function s(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function a(t){const e=new Date(1e3*t),i=` ${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()}  ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`;return i}function n(t){const e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}i.d(e,{D:function(){return s},lf:function(){return a},$E:function(){return n}})},94:function(t,e,i){var s=i(4902);e["Z"]={methods:{toggleFavorite(t,e){const i=this.favoriteList.findIndex((e=>e===t));-1===i?(this.favoriteList.push(t),s.Z.emit("push-message",{style:"success",title:`${e}已 加入我的最愛`})):(this.favoriteList.splice(i,1),s.Z.emit("push-message",{style:"danger",title:`${e}已 取消我的最愛`}))},getFavorite(){const t=localStorage.getItem("Favorite")||"[]";this.favoriteList=JSON.parse(t)}}}},143:function(t,e,i){i.d(e,{Z:function(){return u}});var s=i(6252);const a={class:"loadingio-spinner-spin-gw0b9unmls"},n=(0,s._)("div",{class:"ldio-jjk31xq51n"},[(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")])],-1),o=[n];function r(t,e,i,n,r,l){return(0,s.wg)(),(0,s.iD)("div",a,o)}var l={},c=i(3744);const d=(0,c.Z)(l,[["render",r]]);var u=d},4853:function(t,e,i){i.d(e,{Z:function(){return _}});var s=i(6252),a=i(3577),n=i(9963);const o={"aria-label":"Page navigation example"},r={class:"pagination justify-content-center"},l=(0,s._)("span",{"aria-hidden":"true"},"«",-1),c=[l],d=["onClick"],u=(0,s._)("span",{"aria-hidden":"true"},"»",-1),g=[u];function p(t,e,i,l,u,p){return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("ul",r,[(0,s._)("li",{class:(0,a.C_)(["page-item",{disabled:!i.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((t=>p.changePages(i.pages.current_page-1)),["prevent"]))},c)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pages.total_pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["page-item",{active:t===i.pages.current_page}]),key:t+123},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,n.iM)((e=>p.changePages(t)),["prevent"])},(0,a.zw)(t),9,d)],2)))),128)),(0,s._)("li",{class:(0,a.C_)(["page-item",{disabled:!i.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((t=>p.changePages(i.pages.current_page+1)),["prevent"]))},g)],2)])])}var m={props:["pages"],methods:{changePages(t){this.$emit("change-pages",t)}},mounted(){document.body.scrollTop=document.documentElement.scrollTop=0}},h=i(3744);const v=(0,h.Z)(m,[["render",p]]);var _=v},524:function(t,e,i){i.d(e,{Z:function(){return g}});var s=i(6252),a=i(3577);const n={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"300px"}},o={class:"fw-bold"};function r(t,e,i,r,l,c){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",{class:"position-absolute",style:(0,a.j5)([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.3"},{backgroundImage:`url(${l.BannerImage})`}])},null,4),(0,s._)("h1",o,(0,a.zw)(i.msg),1)])}var l=i(8722),c={props:{msg:String},data(){return{BannerImage:l}}},d=i(3744);const u=(0,d.Z)(c,[["render",r]]);var g=u},8898:function(t,e,i){i.r(e),i.d(e,{default:function(){return O}});var s=i(6252),a=i(3577),n=i(9963);const o=t=>((0,s.dD)("data-v-3e95a62a"),t=t(),(0,s.Cn)(),t),r={class:"container"},l={class:"breadcrumb mt-4"},c={class:"breadcrumb-item"},d=(0,s.Uk)(" 首頁 "),u=o((()=>(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"產品頁面",-1))),g={class:"row"},p={class:"btn-group d-md-none",role:"group"},m={id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle mb-3","data-bs-toggle":"dropdown","aria-expanded":"false"},h={class:"dropdown-menu p-3 text-center w-100 border-0","aria-labelledby":"btnGroupDrop1"},v=["onClick"],_={class:"col-md-3",role:"button"},f={class:"list-group d-none d-md-block sticky-md-top"},b=["onClick"],w={class:"col-md-9"},y={class:"row list-unstyled row-cols-1 row-cols-md-2 row-cols-lg-3"},k={class:"card mb-4"},C={class:"overflow-hidden"},x=["onClick"],L={class:"card-body text-start"},$={class:"d-flex justify-content-between align-items-center"},D={class:"card-title fs-4 fw-bold text-nowrap my-1"},P=["onClick"],Z={class:"card-text d-flex justify-content-between align-items-center"},I={class:"m-start fs-6 small text-muted"},z={class:"fw-bold card-text text-danger fs-5 my-1 d-block"},M=["onClick","disabled"],j={key:0,class:"fas fa-spinner fa-pulse"},S=o((()=>(0,s._)("i",{class:"bi bi-cart-plus fs-3"},null,-1))),T={class:"text-center"};function A(t,e,i,o,A,H){const F=(0,s.up)("LoadingComponent"),W=(0,s.up)("VLoading"),Y=(0,s.up)("HeaderBanner"),B=(0,s.up)("RouterLink"),E=(0,s.up)("PaginationComponent");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(W,{active:A.isLoading,"z-index":1060},{default:(0,s.w5)((()=>[(0,s.Wm)(F)])),_:1},8,["active"]),(0,s.Wm)(Y,{msg:"產品頁面"}),(0,s._)("div",r,[(0,s._)("ol",l,[(0,s._)("li",c,[(0,s.Wm)(B,{to:"/",class:"nav-link active p-0"},{default:(0,s.w5)((()=>[d])),_:1})]),u]),(0,s._)("div",g,[(0,s._)("div",p,[(0,s._)("button",m,(0,a.zw)(A.isActive?A.isActive:"所有產品"),1),(0,s._)("ul",h,[(0,s._)("li",{class:(0,a.C_)(["list-group-item list-group-item-action",{active:""==A.isActive}]),"aria-current":"true",onClick:e[0]||(e[0]=t=>H.filterProducts())}," 所有產品 ",2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.MenuCategory,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["list-group-item list-group-item-action",{active:A.isActive==t}]),key:e,onClick:e=>H.filterProducts(1,t)},(0,a.zw)(t),11,v)))),128))])]),(0,s._)("div",_,[(0,s._)("ul",f,[(0,s._)("li",{class:(0,a.C_)(["list-group-item list-group-item-action",{active:""==A.isActive}]),"aria-current":"true",onClick:e[1]||(e[1]=t=>H.filterProducts())}," 所有產品 ",2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.MenuCategory,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["list-group-item list-group-item-action",{active:A.isActive==t}]),key:e,onClick:e=>H.filterProducts(1,t)},(0,a.zw)(t),11,b)))),128))])]),(0,s._)("div",w,[(0,s._)("ul",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.products,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"col",key:e.id,"data-aos":"fade-up"},[(0,s._)("div",k,[(0,s._)("div",C,[(0,s._)("button",{type:"button",class:"btn btn-primary position-absolute fs-4 p-1",style:{left:"20px","z-index":"1"},onClick:i=>t.toggleFavorite(e.id,e.title)},[(0,s._)("i",{class:(0,a.C_)(A.favoriteList.includes(e.id)?"bi-heart-fill":"bi-heart")},null,2)],8,x),(0,s.Wm)(B,{to:`/product/${e.id}`,class:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"card-img-top card-img-scale",style:(0,a.j5)([{height:"300px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)])),_:2},1032,["to"])]),(0,s._)("div",L,[(0,s._)("div",$,[(0,s._)("h3",D,(0,a.zw)(e.title),1),(0,s._)("span",{type:"button",class:"badge rounded-pill bg-success fs-7",onClick:t=>H.filterProducts(1,e.category)},(0,a.zw)(e.category),9,P)]),(0,s._)("div",Z,[(0,s._)("div",null,[(0,s._)("del",I,(0,a.zw)(H.toThousandths(e.origin_price))+" 元",1),(0,s._)("p",z," NT $"+(0,a.zw)(H.toThousandths(e.price))+" 元 ",1)]),(0,s._)("button",{type:"button",onClick:(0,n.iM)((t=>H.addToCart(e.id,e.title)),["prevent"]),disabled:A.isLoadingItem===e.id,class:"btn btn-outline-primary card-link text-decoration-none"},[A.isLoadingItem===e.id?((0,s.wg)(),(0,s.iD)("i",j)):(0,s.kq)("",!0),S],8,M)])])])])))),128))])])]),(0,s._)("div",T,[(0,s.Wm)(E,{pages:A.pagination,onChangePages:H.filterProducts},null,8,["pages","onChangePages"])])])],64)}var H=i(524),F=i(4902),W=i(4853),Y=i(143),B=i(908),E=i(94),K={mixins:[E.Z],data(){return{products:[],pagination:{},isLoadingItem:!1,loadingStatus:{loadingItem:""},isLoading:!1,favoriteList:[],MenuCategory:[],isActive:""}},components:{PaginationComponent:W.Z,LoadingComponent:Y.Z,HeaderBanner:H.Z},methods:{toThousandths:B.$E,getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/v2/api/clothes/products").then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1,this.products.forEach((t=>{-1===this.MenuCategory.indexOf(t.category)&&this.MenuCategory.push(t.category)}))})).catch((t=>{this.isLoading=!1,F.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},filterProducts(t=1,e=""){this.isLoading=!0,this.isActive="all"===e?"all":e,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/clothes/products/?page=${t}&category=${e}`).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1,window.scrollTo(0,0)})).catch((t=>{this.isLoading=!1,F.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},addToCart(t,e,i=1){const s={product_id:t,qty:i};this.isLoadingItem=t;const a="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.$http.post(a,{data:s}).then((t=>{this.isLoadingItem="",F.Z.emit("push-message",{style:"success",title:`${e}${t.data.message}`}),F.Z.emit("get-cart-num")})).catch((t=>{this.isLoadingItem="",F.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))}},watch:{favoriteList:{handler(){localStorage.setItem("Favorite",JSON.stringify(this.favoriteList)),F.Z.emit("get-favorite-num")},deep:!0}},mounted(){if(this.getProducts(),this.$route.params.category){const{category:t}=this.$route.params;this.filterProducts(1,t)}this.getFavorite()}},N=i(3744);const q=(0,N.Z)(K,[["render",A],["__scopeId","data-v-3e95a62a"]]);var O=q},8722:function(t,e,i){t.exports=i.p+"img/banner3.3ef48998.jpg"}}]);
//# sourceMappingURL=898.44d1600b.js.map