"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[684],{94:function(t,e,i){var s=i(4902);e["Z"]={methods:{toggleFavorite(t,e){const i=this.favoriteList.findIndex((e=>e===t));-1===i?(this.favoriteList.push(t),s.Z.emit("push-message",{style:"success",title:`${e}已 加入我的最愛`})):(this.favoriteList.splice(i,1),s.Z.emit("push-message",{style:"danger",title:`${e}已 取消我的最愛`}))},getFavorite(){const t=localStorage.getItem("Favorite")||"[]";this.favoriteList=JSON.parse(t)}}}},143:function(t,e,i){i.d(e,{Z:function(){return u}});var s=i(6252);const a={class:"loadingio-spinner-spin-gw0b9unmls"},n=(0,s._)("div",{class:"ldio-jjk31xq51n"},[(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")])],-1),o=[n];function l(t,e,i,n,l,r){return(0,s.wg)(),(0,s.iD)("div",a,o)}var r={},d=i(3744);const c=(0,d.Z)(r,[["render",l]]);var u=c},524:function(t,e,i){i.d(e,{Z:function(){return g}});var s=i(6252),a=i(3577);const n={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"300px"}},o={class:"fw-bold"};function l(t,e,i,l,r,d){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",{class:"position-absolute",style:(0,a.j5)([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.3"},{backgroundImage:`url(${r.BannerImage})`}])},null,4),(0,s._)("h1",o,(0,a.zw)(i.msg),1)])}var r=i(8722),d={props:{msg:String},data(){return{BannerImage:r}}},c=i(3744);const u=(0,c.Z)(d,[["render",l]]);var g=u},3684:function(t,e,i){i.r(e),i.d(e,{default:function(){return N}});var s=i(6252),a=i(3577),n=i(9963);const o=t=>((0,s.dD)("data-v-84209d50"),t=t(),(0,s.Cn)(),t),l={class:"container"},r={class:"breadcrumb mt-4"},d={class:"breadcrumb-item"},c=(0,s.Uk)(" 首頁 "),u=o((()=>(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"我的最愛",-1))),g={key:0,class:"row list-unstyled row-cols-1 row-cols-md-3 row-cols-lg-4 mt-4"},p={class:"card mb-4"},m={class:"overflow-hidden"},v=["onClick"],f={class:"card-body text-start"},h={class:"d-flex justify-content-between align-items-center"},_={class:"card-title fs-4 fw-bold text-nowrap my-1"},b={class:"badge rounded-pill bg-success fs-7"},y={class:"card-text d-flex justify-content-between"},w={class:"fw-bold card-text text-danger fs-5 my-1 align-self-center"},L={class:"m-start fs-6 small text-muted"},k=["onClick","disabled"],x={key:0,class:"fas fa-spinner fa-pulse"},Z=o((()=>(0,s._)("i",{class:"bi bi-cart-plus fs-3"},null,-1))),I={key:1,class:"mb-4"},$=o((()=>(0,s._)("i",{class:"bi bi-info-square fs-1"},null,-1))),C=o((()=>(0,s._)("p",{class:"fs-4",style:{"letter-spacing":"2px"}},"目前沒有喜愛的商品",-1))),D=(0,s.Uk)("收藏商品 ");function F(t,e,i,o,F,j){const z=(0,s.up)("LoadingComponent"),S=(0,s.up)("VLoading"),W=(0,s.up)("HeaderBanner"),q=(0,s.up)("RouterLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(S,{active:F.isLoading,"z-index":1060},{default:(0,s.w5)((()=>[(0,s.Wm)(z)])),_:1},8,["active"]),(0,s.Wm)(W,{msg:"收藏頁面"}),(0,s._)("div",l,[(0,s._)("ol",r,[(0,s._)("li",d,[(0,s.Wm)(q,{to:"/",class:"nav-link active p-0"},{default:(0,s.w5)((()=>[c])),_:1})]),u]),F.favoriteList?.length>0?((0,s.wg)(),(0,s.iD)("ul",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j.filterProducts,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"col",key:t.id,"data-aos":"fade-up"},[(0,s._)("div",p,[(0,s._)("div",m,[(0,s._)("button",{type:"button",class:"btn btn-primary position-absolute fs-4 p-1",style:{left:"20px","z-index":"1"},onClick:e=>j.toggleFavorite(t.id,t.title)},[(0,s._)("i",{class:(0,a.C_)(F.favoriteList.includes(t.id)?"bi-heart-fill":"bi-heart")},null,2)],8,v),(0,s.Wm)(q,{to:`/product/${t.id}`,class:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"card-img-top card-img-scale",style:(0,a.j5)([{height:"300px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)])),_:2},1032,["to"])]),(0,s._)("div",f,[(0,s._)("div",h,[(0,s._)("h3",_,(0,a.zw)(t.title),1),(0,s._)("span",b,(0,a.zw)(t.category),1)]),(0,s._)("div",y,[(0,s._)("p",w,[(0,s.Uk)(" NT $"+(0,a.zw)(t.price)+" 元 ",1),(0,s._)("del",L,(0,a.zw)(t.origin_price)+" 元",1)]),(0,s._)("button",{type:"button",onClick:(0,n.iM)((e=>j.addToCart(t.id,t.title)),["prevent"]),disabled:F.isLoadingItem===t.id,class:"btn btn-outline-primary card-link text-decoration-none"},[F.isLoadingItem===t.id?((0,s.wg)(),(0,s.iD)("i",x)):(0,s.kq)("",!0),Z],8,k)])])])])))),128))])):((0,s.wg)(),(0,s.iD)("div",I,[$,C,(0,s.Wm)(q,{to:"/products",class:"btn btn-primary py-2 px-4"},{default:(0,s.w5)((()=>[D])),_:1})]))])],64)}var j=i(524),z=i(4902),S=i(143),W=i(94),q={mixins:[W.Z],data(){return{products:[],isLoadingItem:!1,loadingStatus:{loadingItem:""},isLoading:!1,category:"流水畫",favoriteList:[]}},components:{LoadingComponent:S.Z,HeaderBanner:j.Z},methods:{getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/v2/api/clothes/products/all").then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1})).catch((t=>{z.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},addToCart(t,e,i=1){const s={product_id:t,qty:i};this.isLoadingItem=t;const a="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.$http.post(a,{data:s}).then((t=>{this.isLoadingItem="",z.Z.emit("push-message",{style:"success",title:`${e}${t.data.message}`}),z.Z.emit("get-cart-num")})).catch((t=>{this.isLoadingItem="",z.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},toggleFavorite(t,e){const i=this.favoriteList.findIndex((e=>e===t));-1===i?(this.favoriteList.push(t),z.Z.emit("push-message",{style:"success",title:`${e}已 加入我的最愛`})):(this.favoriteList.splice(i,1),z.Z.emit("push-message",{style:"danger",title:`${e}已 取消我的最愛`}))},getFavorite(){const t=localStorage.getItem("Favorite")||"[]";this.favoriteList=JSON.parse(t)}},watch:{favoriteList:{handler(){localStorage.setItem("Favorite",JSON.stringify(this.favoriteList)),z.Z.emit("get-favorite-num")},deep:!0}},computed:{filterProducts(){return this.products.filter((t=>this.favoriteList.includes(t.id)))}},mounted(){this.getFavorite(),this.getProducts()}},B=i(3744);const H=(0,B.Z)(q,[["render",F],["__scopeId","data-v-84209d50"]]);var N=H},8722:function(t,e,i){t.exports=i.p+"img/banner3.3ef48998.jpg"}}]);
//# sourceMappingURL=684.1d6298a3.js.map