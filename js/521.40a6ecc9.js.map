{"version":3,"file":"js/521.40a6ecc9.js","mappings":"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","sources":["webpack://panda_nails/./src/views/front/ProductView.vue","webpack://panda_nails/./src/views/front/ProductView.vue?410b"],"sourcesContent":["<template>\n  <!-- <h2>單一產品</h2> -->\n  <VLoading :active=\"isLoading\" :z-index=\"1060\">\n    <LoadingComponent></LoadingComponent>\n  </VLoading>\n  <div\n    class=\"position-relative d-flex align-items-center justify-content-center\"\n    style=\"min-height: 350px\"\n  >\n    <div\n      class=\"position-absolute\"\n      style=\"\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background-position: center center;\n        opacity: 0.3;\n      \"\n      :style=\"{ backgroundImage: `url(${BannerImage})` }\"\n    ></div>\n    <h2 class=\"fw-bold\">單一產品</h2>\n  </div>\n  <div class=\"container my-5\">\n    <div class=\"row row-cols-1 row-cols-md-2\">\n      <div class=\"col\">\n        <!-- <span><img class=\"img-fluid object-fit-contain\" :src=\"product.imagesUrl\" alt=\"\" /></span> -->\n        <div\n          class=\"h-100 product-img\"\n          :style=\"{ backgroundImage: `url(${product.imagesUrl})` }\"\n          style=\"\n            background-size: cover;\n            position: relative;\n            background-repeat: no-repeat;\n            background-position: center 70%;\n          \"\n        ></div>\n      </div>\n      <!-- <div class=\"col product-img\">\n        <span :style=\"{ backgroundImage: `url(${product.imagesUrl})` }\"></span>\n      </div> -->\n      <div class=\"col\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb mt-3\">\n            <li class=\"breadcrumb-item\">\n              <router-link to=\"/products\" class=\"text-decoration-none\">產品頁面</router-link>\n            </li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">\n              {{ product.title }}\n            </li>\n          </ol>\n        </nav>\n        <div class=\"\">\n          <div class=\"text-start fs-2\">\n            {{ product.title }}\n            <small class=\"badge rounded-pill bg-success\">\n              {{ product.category }}</small\n            >\n          </div>\n          <div class=\"product-description text-secondary text-start fs-5 mt-3\">\n            {{ product.description }}\n          </div>\n          <div class=\"product-content text-secondary text-start fs-5 mt-3\">\n            {{ product.content }}\n          </div>\n          <div class=\"fw-bold text-md-start text-danger fs-3 mt-4\">\n            NT ${{ product.price }} 元\n            <del class=\"text-md-start fs-6 small text-muted\">\n              {{ product.origin_price }} 元</del\n            >\n          </div>\n          <div class=\"input-group mt-4\">\n            <input\n              type=\"number\"\n              class=\"form-control\"\n              v-model.number=\"qty\"\n              min=\"1\"\n            />\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"addToCart(product.id, product.title, qty)\"\n            >\n              加入購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div>\n      <h2 class=\"my-5\">相關產品</h2>\n      <swiper\n        :modules=\"modules\"\n        Navigation\n        :pagination=\"{ clickable: false }\"\n        :loop=\"false\"\n        :breakpoints=\"{\n          '640': {\n            slidesPerView: 1,\n            spaceBetween: 0\n          },\n          '768': {\n            slidesPerView: 2,\n            spaceBetween: 30\n          },\n          '1024': {\n            slidesPerView: 3,\n            spaceBetween: 30\n          }\n        }\"\n        :autoplay=\"{\n          delay: 1500,\n          disableOnInteraction: false,\n          pauseOnMouseEnter: true\n        }\"\n      >\n        <swiper-slide v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"overflow-hidden\">\n            <router-link :to=\"`/product/${product.id}`\" class=\"\">\n              <div\n                class=\"card-img-top card-img-scale\"\n                style=\"\n                  height: 300px;\n                  background-size: cover;\n                  background-position: center;\n                \"\n                :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\n              ></div>\n            </router-link>\n          </div>\n\n          <div class=\"card-body text-start\">\n            <h5 class=\"card-title fs-4 fw-bold\">\n              {{ product.title }}\n              <span\n                class=\"position-absolute start-90 translate-middle badge rounded-pill bg-success fs-7\"\n              >\n                {{ product.category }}\n              </span>\n            </h5>\n            <div class=\"card-text d-flex justify-content-between\">\n              <p class=\"fw-bold card-text text-danger fs-5 my-1\">\n                NT ${{ product.price }} 元\n                <del class=\"m-start fs-6 small text-muted\">\n                  {{ product.origin_price }} 元</del\n                >\n              </p>\n              <button\n                @click.prevent=\"addToCart(product.id, product.title)\"\n                :disabled=\"isLoadingItem === product.id\"\n                class=\"card-link text-decoration-none btn btn-outline-primary\"\n              >\n                <i class=\"bi bi-cart-plus fs-3\"></i>\n              </button>\n            </div>\n          </div>\n        </swiper-slide>\n      </swiper>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\">\n.product-description,\n.product-content {\n  line-height: 2;\n}\n.product-img {\n  min-height: 340px;\n}\n.card-img-scale:hover {\n  transform: scale(1.2);\n}\n.card-img-scale {\n  transform: scale(1);\n  transition: all 0.5s ease-out;\n}\n// .product-img span,\n// .photo-sm span {\n//   display: block;\n//   width: 100%;\n//   height: 100%;\n//   overflow: hidden;\n//   position: relative;\n//   background-repeat: no-repeat;\n//   background-position: center 60%;\n//   background-size: cover;\n// }\n// @media (min-width: 768px) {\n//   .product-img {\n//     height: calc(30vw - 2em);\n//     max-height: 400px;\n//     min-height: 340px;\n//   }\n//   .product-img span,\n//   .photo-sm span {\n//     background-position: center 70%;\n//   }\n// }\n</style>\n<script>\nimport LoadingComponent from '@/components/LoadingComponent.vue'\nimport emitter from '@/libs/emitter'\nimport BannerImage from '@/assets/img/banner3.jpg'\nimport { Swiper, SwiperSlide } from 'swiper/vue'\nimport { Navigation, Pagination, Autoplay } from 'swiper'\nexport default {\n  components: { LoadingComponent, Swiper, SwiperSlide },\n  data () {\n    return {\n      product: {},\n      products: {},\n      qty: 1,\n      isLoading: false,\n      isLoadingItem: '',\n      BannerImage: BannerImage,\n      modules: [Navigation, Pagination, Autoplay]\n    }\n  },\n  watch: {\n    qty (n, o) {\n      if (n <= 0) {\n        this.qty = o\n      }\n    },\n    $route (to) {\n      this.id = to.params.id\n      this.getProduct()\n    }\n  },\n  methods: {\n    getProducts (page = 1) {\n      this.isLoading = true\n      const category = this.product.category\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/?page=${page}&category=${category}`\n        )\n        .then((res) => {\n          this.products = res.data.products\n          // 過濾本身產品\n          const { id } = this.product\n          this.products = Object.values(this.products).filter(\n            (item) => item.id !== id\n          )\n          this.isLoading = false\n        })\n        .catch((err) => {\n          console.dir(err)\n          this.isLoading = false\n        })\n    },\n    getProduct () {\n      const { id } = this.$route.params\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.product = res.data.product\n          this.getProducts()\n          console.log(this.product)\n          this.isLoading = false\n        })\n        .catch((err) => {\n          console.dir(err.data)\n          this.isLoading = false\n        })\n    },\n    addToCart (id, title, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/`\n      this.$http\n        .post(url, { data })\n        .then((res) => {\n          this.qty = 1\n          emitter.emit('get-cart-num')\n          emitter.emit('push-message', {\n            style: 'success',\n            title: `${title}${res.data.message}`\n          })\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.isLoading = false\n          emitter.emit('push-message', {\n            style: 'danger',\n            title: `${err.response.data.message}`\n          })\n        })\n    }\n  },\n  mounted () {\n    this.getProduct()\n  }\n}\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=6bb3bdda\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=6bb3bdda&lang=scss\"\n\nimport exportComponent from \"D:\\\\sex_School\\\\panda_nails\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_29","_createVNode","_component_VLoading","active","$data","_component_LoadingComponent","backgroundImage","_hoisted_2","imagesUrl","_component_router_link","to","_toDisplayString","title","category","description","content","price","origin_price","type","$event","min","onClick","$options","id","_hoisted_20","_component_swiper","modules","Navigation","pagination","clickable","loop","breakpoints","autoplay","_createElementBlock","_Fragment","_renderList","product","_createBlock","_component_swiper_slide","key","imageUrl","disabled","components","LoadingComponent","Swiper","SwiperSlide","data","products","qty","isLoading","isLoadingItem","BannerImage","Pagination","Autoplay","watch","n","o","this","$route","params","getProduct","methods","getProducts","page","$http","get","then","res","Object","values","filter","item","catch","err","console","dir","url","log","addToCart","product_id","post","emitter","message","response","mounted","__exports__","render"],"sourceRoot":""}