"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[91],{9087:function(s,e,t){function l(s){const e=new Date(1e3*s);return e.toLocaleDateString()}t.d(e,{D:function(){return l}})},7539:function(s,e,t){t.d(e,{Z:function(){return d}});var l=t(6252),a=t(5587);const c={alt:"loading.gif",src:a};function o(s,e,t,a,o,i){return(0,l.wg)(),(0,l.iD)("img",c)}var i={},r=t(3744);const n=(0,r.Z)(i,[["render",o]]);var d=n},4091:function(s,e,t){t.r(e),t.d(e,{default:function(){return Zt}});var l=t(6252),a=t(3577),c=t(9963);const o={class:"container"},i={class:"list d-flex justify-content-center list-unstyled"},r=(0,l._)("i",{class:"bi bi-card-checklist fs-2"},null,-1),n=(0,l._)("p",{class:"mb-0 mb-lg-3"},"Step 1 .",-1),d=(0,l._)("p",null,"訂單建立",-1),u=[r,n,d],p=(0,l._)("i",{class:"bi bi-credit-card fs-2"},null,-1),m=(0,l._)("p",{class:"mb-0 mb-lg-3"},"Step 2 .",-1),b=(0,l._)("p",null,"確認及付款",-1),_=[p,m,b],f=(0,l._)("i",{class:"bi bi-cart-check fs-2"},null,-1),g=(0,l._)("p",{class:"mb-0 mb-lg-3"},"Step 3 .",-1),h=(0,l._)("p",null,"訂單完成",-1),y=[f,g,h],v={key:0,class:"row"},w={class:"col-lg-4"},x={class:"list-unstyled"},k={class:"border-bottom h4 d-flex justify-content-between"},C=(0,l._)("div",null,"訂單明細",-1),D=["disabled"],z={key:0},$={class:"row g-0"},j={class:"col-4 col-md-3 col-lg-4"},q=["src"],L={class:"col-8 col-md-9 col-lg-8 g-3 d-flex flex-column g-3 justify-content-between"},O={class:"card-body p-1"},S={class:"card-title fs-5 text-start"},U={class:"text-start mb-0"},V={class:"text-muted"},Z={class:"mb-0 text-end fs-4"},N={class:"row"},T={class:"col-4"},I=["onClick"],W={key:0,class:"fas fa-spinner fa-pulse"},E=(0,l._)("i",{class:"bi bi-trash"},null,-1),F={class:"col-8"},H={class:"input-group input-group-sm"},Y={class:"input-group"},A=["disabled","onClick"],K=(0,l._)("i",{class:"bi bi-dash-lg"},null,-1),M=[K],B=["onUpdate:modelValue"],G=["onClick"],J=(0,l._)("i",{class:"bi bi-plus-lg"},null,-1),P=[J],Q={class:"input-group mb-3 pt-3 border-top"},R={key:0,type:"text",class:"form-control p-2",placeholder:"已套用優惠券",disabled:""},X=["disabled"],ss=(0,l.Uk)(" 套用優惠券 "),es=(0,l._)("div",{class:"loading d-none fade"},null,-1),ts=[ss,es],ls={key:0,class:"border-0 d-flex justify-content-between fs-4"},as=(0,l._)("p",{class:"p-1"},"總計",-1),cs={class:"p-1"},os={key:1,class:"border-0 fs-4"},is={class:"fs-5 d-flex justify-content-between"},rs=(0,l._)("p",{class:"p-1"},"總計",-1),ns={class:"p-1"},ds={class:"d-flex justify-content-between"},us=(0,l._)("p",{class:"p-1"},"折扣後金額：",-1),ps={class:"fs-4"},ms={key:1},bs=(0,l._)("i",{class:"bi bi-info-square fs-1"},null,-1),_s=(0,l._)("p",{class:"fs-7",style:{"letter-spacing":"2px"}},"購物車內沒有商品",-1),fs=(0,l._)("a",{href:"#/products?category=all&page=1",class:"btn btn-primary py-2 px-4"},"挑選商品",-1),gs=[bs,_s,fs],hs={class:"col-lg-8 justify-content-center text-start"},ys=(0,l._)("div",{class:"text-start h2 border-bottom-0"},"訂購人資訊",-1),vs={class:"mb-3"},ws=(0,l._)("label",{for:"email",class:"form-label"},[(0,l.Uk)("Email "),(0,l._)("span",{class:"text-danger"},"*")],-1),xs={class:"mb-3"},ks=(0,l._)("label",{for:"name",class:"form-label"},[(0,l.Uk)("收件人姓名 "),(0,l._)("span",{class:"text-danger"},"*")],-1),Cs={class:"mb-3"},Ds=(0,l._)("label",{for:"tel",class:"form-label"},[(0,l.Uk)("收件人電話 "),(0,l._)("span",{class:"text-danger"},"*")],-1),zs={class:"mb-3"},$s=(0,l._)("label",{for:"address",class:"form-label"},[(0,l.Uk)("收件人地址 "),(0,l._)("span",{class:"text-danger"},"*")],-1),js={class:"mb-3"},qs=(0,l._)("label",{for:"message",class:"form-label"},"留言",-1),Ls={class:"text-end"},Os=["disabled"],Ss={key:1,class:"row"},Us={class:"col-lg-4"},Vs={class:"list-unstyled"},Zs=(0,l._)("li",{class:"border-bottom h4 text-start"},[(0,l._)("div",null,"確認訂單明細")],-1),Ns={class:"row g-0"},Ts={class:"col-4 col-md-3 col-lg-4"},Is=["src"],Ws={class:"col-8 col-md-9 col-lg-8 g-3 d-flex flex-column g-3 justify-content-between"},Es={class:"card-body p-1"},Fs={class:"card-title fs-5 text-start"},Hs={class:"text-start mb-0"},Ys={class:"text-muted"},As={class:"mb-0 text-end fs-4"},Ks={class:"input-group mb-3 pt-3 border-top"},Ms={key:0,type:"text",class:"form-control p-2",placeholder:"已套用優惠券",disabled:""},Bs=["disabled"],Gs=(0,l.Uk)(" 套用優惠券 "),Js=(0,l._)("div",{class:"loading d-none fade"},null,-1),Ps=[Gs,Js],Qs={key:0,class:"border-0 d-flex justify-content-between fs-4"},Rs=(0,l._)("p",{class:"p-1"},"總計",-1),Xs={class:"p-1"},se={key:1,class:"border-0 fs-4"},ee={class:"fs-5 d-flex justify-content-between"},te=(0,l._)("p",{class:"p-1"},"總計",-1),le={class:"p-1"},ae={class:"d-flex justify-content-between"},ce=(0,l._)("p",{class:"p-1"},"折扣後金額：",-1),oe={class:"fs-4"},ie={class:"col-lg-8 justify-content-center text-start border"},re=(0,l._)("div",{class:"text-start h2 border-bottom-0"},"訂購人資訊",-1),ne={class:"mb-3"},de=(0,l._)("label",{for:"email",class:"form-label"},"Email ",-1),ue={class:"h5"},pe={class:"mb-3"},me=(0,l._)("label",{for:"name",class:"form-label"},"收件人姓名 ",-1),be={class:"h5"},_e={class:"mb-3"},fe=(0,l._)("label",{for:"tel",class:"form-label"},"收件人電話 ",-1),ge={class:"h5"},he={class:"mb-3"},ye=(0,l._)("label",{for:"address",class:"form-label"},"收件人地址 ",-1),ve={class:"h5"},we={class:"mb-3"},xe=(0,l._)("label",{for:"message",class:"form-label"},"留言",-1),ke={class:"h5"},Ce={class:"d-flex justify-content-between border-top"},De={class:"text-start"},ze={class:"text-end"},$e={key:2,class:"row"},je={class:"col-lg-4"},qe={class:"list-unstyled"},Le=(0,l._)("li",{class:"border-bottom h4 text-start"},[(0,l._)("div",null,[(0,l.Uk)("訂單內容 "),(0,l._)("span",{class:"text-success"},"(已付款)")])],-1),Oe={class:"row g-0"},Se={class:"col-4 col-md-3 col-lg-4"},Ue=["src"],Ve={class:"col-8 col-md-9 col-lg-8 g-3 d-flex flex-column g-3 justify-content-between"},Ze={class:"card-body p-1"},Ne={class:"card-title fs-5 text-start"},Te={class:"text-start mb-0"},Ie={class:"text-muted"},We={class:"mb-0 text-end fs-4"},Ee={class:"input-group mb-3 pt-3 border-top"},Fe={key:0,type:"text",class:"form-control p-2",placeholder:"已套用優惠券",disabled:""},He=["disabled"],Ye=(0,l.Uk)(" 套用優惠券 "),Ae=(0,l._)("div",{class:"loading d-none fade"},null,-1),Ke=[Ye,Ae],Me={key:0,class:"border-0 d-flex justify-content-between fs-4"},Be=(0,l._)("p",{class:"p-1"},"總計",-1),Ge={class:"p-1"},Je={key:1,class:"border-0 fs-4"},Pe={class:"fs-5 d-flex justify-content-between"},Qe=(0,l._)("p",{class:"p-1"},"總計",-1),Re={class:"p-1"},Xe={class:"d-flex justify-content-between"},st=(0,l._)("p",{class:"p-1"},"折扣後金額：",-1),et={class:"fs-4"},tt={class:"col-lg-8 justify-content-center text-start border"},lt=(0,l._)("div",{class:"text-start h2 border-bottom-0"},"訂購資訊",-1),at={class:"mb-3"},ct=(0,l._)("label",{for:"訂單金額",class:"form-label"},"訂單金額 ",-1),ot={class:"h5 text-success"},it={class:"mb-3"},rt=(0,l._)("label",{for:"訂單資訊",class:"form-label"},"訂單編號 ",-1),nt={class:"h5"},dt={class:"mb-3"},ut=(0,l._)("label",{for:"訂單編號",class:"form-label"},"訂購時間 ",-1),pt={class:"h5"},mt={key:0,class:"mb-3"},bt=(0,l._)("label",{for:"優惠卷代碼",class:"form-label"},"優惠卷代碼 ",-1),_t={class:"h5"},ft={class:"mb-3"},gt=(0,l._)("label",{for:"name",class:"form-label"},"收件人姓名 ",-1),ht={class:"h5"},yt={class:"mb-3"},vt=(0,l._)("label",{for:"tel",class:"form-label"},"收件人電話 ",-1),wt={class:"h5"},xt={class:"mb-3"},kt=(0,l._)("label",{for:"address",class:"form-label"},"收件人地址 ",-1),Ct={class:"h5"},Dt={class:"mb-3"},zt=(0,l._)("label",{for:"message",class:"form-label"},"留言",-1),$t={class:"h5"};function jt(s,e,t,r,n,d){const p=(0,l.up)("LoadingComponent"),m=(0,l.up)("VLoading"),b=(0,l.up)("VField"),f=(0,l.up)("ErrorMessage"),g=(0,l.up)("VForm");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(m,{active:n.isLoading,"z-index":1060},{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1},8,["active"]),(0,l._)("div",o,[(0,l._)("ul",i,[(0,l._)("li",{class:(0,a.C_)(["rounded-circle d-flex flex-column justify-content-center text-nowrap",{active:n.stepStatus.createOrder}])},u,2),(0,l._)("li",{class:(0,a.C_)(["rounded-circle d-flex flex-column justify-content-center text-nowrap",{active:n.stepStatus.checkOrder}])},_,2),(0,l._)("li",{class:(0,a.C_)(["rounded-circle d-flex flex-column justify-content-center text-nowrap",{active:n.stepStatus.success}])},y,2)]),n.stepStatus.createOrder?((0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",w,[(0,l._)("ul",x,[(0,l._)("li",k,[C,(0,l._)("button",{class:"btn btn-outline-danger",type:"button",onClick:e[0]||(e[0]=(...s)=>d.delAllCarts&&d.delAllCarts(...s)),disabled:0===n.carts.carts?.length}," 清空購物車 ",8,D)]),n.carts.carts?.length>0?((0,l.wg)(),(0,l.iD)("div",z,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.carts.carts,(s=>((0,l.wg)(),(0,l.iD)("li",{class:"card border-0 p-3",key:s.id+"123"},[(0,l._)("div",$,[(0,l._)("div",j,[(0,l._)("img",{src:s.product.imageUrl,class:"img-fluid",style:{"object-fit":"contain"},alt:""},null,8,q)]),(0,l._)("div",L,[(0,l._)("div",O,[(0,l._)("p",S,(0,a.zw)(s.product.title),1),(0,l._)("p",U,[(0,l._)("small",V,"NT$"+(0,a.zw)(s.product.price)+" / "+(0,a.zw)(s.product.unit),1)]),(0,l._)("p",Z," NT$"+(0,a.zw)(s.qty*s.product.price),1)]),(0,l._)("div",N,[(0,l._)("div",T,[(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:e=>d.delCart(s.id,s.product.title)},[n.isLoadingItem===s.id?((0,l.wg)(),(0,l.iD)("i",W)):(0,l.kq)("",!0),E],8,I)]),(0,l._)("div",F,[(0,l._)("div",H,[(0,l._)("div",Y,[(0,l._)("button",{disabled:s.qty<=1,class:"btn btn-outline-primary",onClick:e=>d.updateCart(s,s.qty--)},M,8,A),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e=>s.qty=e,min:"1",type:"text",class:"form-control text-center",readonly:"readonly"},null,8,B),[[c.nr,s.qty,void 0,{number:!0}]]),(0,l._)("button",{class:"btn btn-outline-primary",onClick:e=>d.updateCart(s,s.qty++)},P,8,G)])])])])])])])))),128)),(0,l._)("li",Q,[n.isCoupon?((0,l.wg)(),(0,l.iD)("input",R)):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text",class:"form-control p-2",placeholder:"輸入優惠碼","onUpdate:modelValue":e[1]||(e[1]=s=>n.code=s)},null,512)),[[c.nr,n.code]]),(0,l._)("button",{type:"button",class:"btn btn-sm btn-primary px-3",disabled:n.isCoupon,onClick:e[2]||(e[2]=s=>d.useCoupon(n.code))},ts,8,X)]),n.isCoupon?((0,l.wg)(),(0,l.iD)("li",os,[(0,l._)("small",is,[rs,(0,l._)("del",ns,"NT$"+(0,a.zw)(n.carts.total),1)]),(0,l._)("div",ds,[us,(0,l._)("span",ps,"$ "+(0,a.zw)(n.carts.final_total)+" NTD",1)])])):((0,l.wg)(),(0,l.iD)("li",ls,[as,(0,l._)("p",cs,"NT$"+(0,a.zw)(n.carts.final_total),1)]))])):((0,l.wg)(),(0,l.iD)("div",ms,gs))])]),(0,l._)("div",hs,[ys,(0,l.Wm)(g,{ref:"form",onSubmit:d.checkOrder},{default:(0,l.w5)((({errors:s})=>[(0,l._)("div",vs,[ws,(0,l.Wm)(b,{id:"email",name:"email",type:"email",class:(0,a.C_)(["form-control",{"is-invalid":s["email"]}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:n.form.user.email,"onUpdate:modelValue":e[3]||(e[3]=s=>n.form.user.email=s)},null,8,["class","modelValue"]),(0,l.Wm)(f,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",xs,[ks,(0,l.Wm)(b,{id:"name",name:"姓名",type:"text",class:(0,a.C_)(["form-control",{"is-invalid":s["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:n.form.user.name,"onUpdate:modelValue":e[4]||(e[4]=s=>n.form.user.name=s)},null,8,["class","modelValue"]),(0,l.Wm)(f,{name:"姓名",class:"invalid-feedback"})]),(0,l._)("div",Cs,[Ds,(0,l.Wm)(b,{id:"tel",name:"電話",type:"tel",class:(0,a.C_)(["form-control",{"is-invalid":s["電話"]}]),placeholder:"請輸入電話",rules:"required|min:8|max:10|numeric",modelValue:n.form.user.tel,"onUpdate:modelValue":e[5]||(e[5]=s=>n.form.user.tel=s)},null,8,["class","modelValue"]),(0,l.Wm)(f,{name:"電話",class:"invalid-feedback"})]),(0,l._)("div",zs,[$s,(0,l.Wm)(b,{id:"address",name:"地址",type:"text",class:(0,a.C_)(["form-control",{"is-invalid":s["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:n.form.user.address,"onUpdate:modelValue":e[6]||(e[6]=s=>n.form.user.address=s)},null,8,["class","modelValue"]),(0,l.Wm)(f,{name:"地址",class:"invalid-feedback"})]),(0,l._)("div",js,[qs,(0,l.wy)((0,l._)("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[7]||(e[7]=s=>n.form.user.message=s)},null,512),[[c.nr,n.form.user.message]])]),(0,l._)("div",Ls,[(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Object.keys(s).length>0||0===n.carts.carts?.length}," 下一步 ",8,Os)])])),_:1},8,["onSubmit"])])])):(0,l.kq)("",!0),n.stepStatus.checkOrder?((0,l.wg)(),(0,l.iD)("div",Ss,[(0,l._)("div",Us,[(0,l._)("ul",Vs,[Zs,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.carts.carts,(s=>((0,l.wg)(),(0,l.iD)("li",{class:"card border-0 p-3",key:s.id+"123"},[(0,l._)("div",Ns,[(0,l._)("div",Ts,[(0,l._)("img",{src:s.product.imageUrl,class:"img-fluid",style:{"object-fit":"contain"},alt:""},null,8,Is)]),(0,l._)("div",Ws,[(0,l._)("div",Es,[(0,l._)("p",Fs,(0,a.zw)(s.product.title),1),(0,l._)("p",Hs,[(0,l._)("small",Ys,"NT$"+(0,a.zw)(s.product.price)+" / "+(0,a.zw)(s.product.unit),1)]),(0,l._)("p",As," NT$"+(0,a.zw)(s.qty*s.product.price),1)])])])])))),128)),(0,l._)("li",Ks,[n.isCoupon?((0,l.wg)(),(0,l.iD)("input",Ms)):(0,l.kq)("",!0),n.isCoupon?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-sm btn-primary px-3",disabled:n.isCoupon},Ps,8,Bs)):(0,l.kq)("",!0)]),n.isCoupon?((0,l.wg)(),(0,l.iD)("li",se,[(0,l._)("small",ee,[te,(0,l._)("del",le,"NT$"+(0,a.zw)(n.carts.total),1)]),(0,l._)("div",ae,[ce,(0,l._)("span",oe,"$ "+(0,a.zw)(n.carts.final_total)+" NTD",1)])])):((0,l.wg)(),(0,l.iD)("li",Qs,[Rs,(0,l._)("p",Xs,"NT$"+(0,a.zw)(n.carts.final_total),1)]))])]),(0,l._)("div",ie,[re,(0,l._)("div",ne,[de,(0,l._)("p",ue,(0,a.zw)(n.form.user.email),1)]),(0,l._)("div",pe,[me,(0,l._)("p",be,(0,a.zw)(n.form.user.name),1)]),(0,l._)("div",_e,[fe,(0,l._)("p",ge,(0,a.zw)(n.form.user.tel),1)]),(0,l._)("div",he,[ye,(0,l._)("p",ve,(0,a.zw)(n.form.user.address),1)]),(0,l._)("div",we,[xe,(0,l._)("p",ke,(0,a.zw)(n.form.user.message),1)]),(0,l._)("div",Ce,[(0,l._)("div",De,[(0,l._)("button",{type:"button",class:"btn btn-outline-dark",onClick:e[8]||(e[8]=(...s)=>d.createOrder&&d.createOrder(...s))}," 上一步 ")]),(0,l._)("div",ze,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=(...s)=>d.sendOrder&&d.sendOrder(...s))}," 確認付款 ")])])])])):(0,l.kq)("",!0),n.stepStatus.success?((0,l.wg)(),(0,l.iD)("div",$e,[(0,l._)("div",je,[(0,l._)("ul",qe,[Le,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.carts.carts,(s=>((0,l.wg)(),(0,l.iD)("li",{class:"card border-0 p-3",key:s.id+"123"},[(0,l._)("div",Oe,[(0,l._)("div",Se,[(0,l._)("img",{src:s.product.imageUrl,class:"img-fluid",style:{"object-fit":"contain"},alt:""},null,8,Ue)]),(0,l._)("div",Ve,[(0,l._)("div",Ze,[(0,l._)("p",Ne,(0,a.zw)(s.product.title),1),(0,l._)("p",Te,[(0,l._)("small",Ie,"NT$"+(0,a.zw)(s.product.price)+" / "+(0,a.zw)(s.product.unit),1)]),(0,l._)("p",We," NT$"+(0,a.zw)(s.qty*s.product.price),1)])])])])))),128)),(0,l._)("li",Ee,[n.isCoupon?((0,l.wg)(),(0,l.iD)("input",Fe)):(0,l.kq)("",!0),n.isCoupon?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-sm btn-primary px-3",disabled:n.isCoupon,onClick:e[10]||(e[10]=s=>d.useCoupon(n.code))},Ke,8,He)):(0,l.kq)("",!0)]),n.isCoupon?((0,l.wg)(),(0,l.iD)("li",Je,[(0,l._)("small",Pe,[Qe,(0,l._)("del",Re,"NT$"+(0,a.zw)(n.carts.total),1)]),(0,l._)("div",Xe,[st,(0,l._)("span",et,"$ "+(0,a.zw)(n.carts.final_total)+" NTD",1)])])):((0,l.wg)(),(0,l.iD)("li",Me,[Be,(0,l._)("p",Ge,"NT$"+(0,a.zw)(n.carts.final_total),1)]))])]),(0,l._)("div",tt,[lt,(0,l._)("div",at,[ct,(0,l._)("p",ot,(0,a.zw)(n.order.total),1)]),(0,l._)("div",it,[rt,(0,l._)("p",nt,(0,a.zw)(n.order.orderId),1)]),(0,l._)("div",dt,[ut,(0,l._)("p",pt,(0,a.zw)(d.DateFn(n.order.create_at)),1)]),n.code?((0,l.wg)(),(0,l.iD)("div",mt,[bt,(0,l._)("p",_t,(0,a.zw)(n.code),1)])):(0,l.kq)("",!0),(0,l._)("div",ft,[gt,(0,l._)("p",ht,(0,a.zw)(n.form.user.name),1)]),(0,l._)("div",yt,[vt,(0,l._)("p",wt,(0,a.zw)(n.form.user.tel),1)]),(0,l._)("div",xt,[kt,(0,l._)("p",Ct,(0,a.zw)(n.form.user.address),1)]),(0,l._)("div",Dt,[zt,(0,l._)("p",$t,(0,a.zw)(n.form.user.message),1)])])])):(0,l.kq)("",!0)])],64)}var qt=t(4902),Lt=t(7539),Ot=t(9087),St={components:{LoadingComponent:Lt.Z},data(){return{carts:{},isLoadingItem:"",form:{user:{name:"",email:"",tel:"",address:"",message:""}},isLoading:!1,isCoupon:!1,code:"",stepStatus:{createOrder:!0,checkOrder:!1,success:!1},order:{}}},watch:{carts(s){s.final_total!==s.total?this.isCoupon=!0:this.isCoupon=!1}},methods:{DateFn:Ot.D,getCarts(){const s="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.isLoading=!0,this.$http.get(s).then((s=>{console.log(s),this.carts=s.data.data,this.isLoading=!1})).catch((s=>{console.dir(s),this.isLoading=!1}))},delCart(s,e){this.isLoadingItem=s;const t=`https://vue3-course-api.hexschool.io/v2/api/clothes/cart/${s}`;this.$http.delete(t).then((s=>{this.isLoadingItem="",this.getCarts(),console.log(s),qt.Z.emit("push-message",{style:"success",title:`${e}${s.data.message}`}),qt.Z.emit("get-cart-num")})).catch((s=>{console.dir(s),this.isLoadingItem=""}))},delAllCarts(){const s="https://vue3-course-api.hexschool.io/v2/api/clothes/carts";this.$http.delete(s).then((s=>{this.getCarts(),qt.Z.emit("push-message",{style:"success",title:"已清空購物車"}),qt.Z.emit("get-cart-num")})).catch((s=>{console.dir(s)}))},updateCart(s){this.isLoadingItem=s.qty;const e=`https://vue3-course-api.hexschool.io/v2/api/clothes/cart/${s.id}`,t={product_id:s.product_id,qty:s.qty};this.$http.put(e,{data:t}).then((s=>{this.isLoadingItem="",qt.Z.emit("push-message",{style:"success",title:`${s.data.message}`}),this.getCarts()})).catch((s=>{console.dir(s),this.isLoadingItem="",qt.Z.emit("push-message",{style:"danger",title:`${s.response.data.message}`})}))},useCoupon(s){const e="https://vue3-course-api.hexschool.io/v2/api/clothes/coupon",t={code:s};this.$http.post(e,{data:t}).then((e=>{console.log(e),this.isLoadingItem="",this.isCoupon=!0,this.code=s,qt.Z.emit("push-message",{style:"success",title:`${e.data.message}`}),this.getCarts()})).catch((s=>{console.dir(s),this.isLoadingItem="",qt.Z.emit("push-message",{style:"danger",title:`${s.response.data.message}`})}))},sendOrder(){this.stepStatus.success=!0,this.stepStatus.checkOrder=!1,this.isLoading=!0;const s="https://vue3-course-api.hexschool.io/v2/api/clothes/order",e=this.form;this.$http.post(s,{data:e}).then((s=>{console.log(s),this.isLoading=!1,qt.Z.emit("push-message",{style:"success",title:`${s.data.message}`}),this.order=s.data,this.payOrder()})).catch((s=>{this.isLoading=!1,console.dir(s),qt.Z.emit("push-message",{style:"success",title:`${s.response.data.message}`})}))},checkOrder(){this.stepStatus.createOrder=!1,this.stepStatus.checkOrder=!0},createOrder(){this.stepStatus.createOrder=!0,this.stepStatus.checkOrder=!1},payOrder(){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/v2/api/clothes/pay/${this.order.orderId}`;this.$http.post(s).then((s=>{s.data.success&&(console.log(s),this.isLoading=!1,qt.Z.emit("push-message",{style:"success",title:`${s.data.message}`}))})).catch((s=>{console.dir(s),this.isLoading=!1,qt.Z.emit("push-message",{style:"success",title:`${s.response.data.message}`})}))}},mounted(){this.getCarts()}},Ut=t(3744);const Vt=(0,Ut.Z)(St,[["render",jt]]);var Zt=Vt},5587:function(s,e,t){s.exports=t.p+"img/panda_loading_2.205e407c.gif"}}]);
//# sourceMappingURL=91.5031e5c6.js.map