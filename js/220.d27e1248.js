(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[220],{3863:function(t,e,s){
/*!
  * Bootstrap collapse.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,i){t.exports=i(s(493),s(9286),s(3175),s(8737),s(5695))})(0,(function(t,e,s,i,n){"use strict";const l=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},o=l(t),r=l(e),a=l(s),d=l(i),c=l(n),u=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),h=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),e=s&&"#"!==s?s.trim():null}return e},g=t=>{const e=h(t);return e&&document.querySelector(e)?e:null},p=t=>{const e=h(t);return e?document.querySelector(e):null},f=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),_=t=>f(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,m=(t,e,s)=>{Object.keys(s).forEach((i=>{const n=s[i],l=e[i],o=l&&f(l)?"element":u(l);if(!new RegExp(n).test(o))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${n}".`)}))},w=t=>{t.offsetHeight},b=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},y=[],v=t=>{"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",(()=>{y.forEach((t=>t()))})),y.push(t)):t()},C=t=>{v((()=>{const e=b();if(e){const s=t.NAME,i=e.fn[s];e.fn[s]=t.jQueryInterface,e.fn[s].Constructor=t,e.fn[s].noConflict=()=>(e.fn[s]=i,t.jQueryInterface)}}))},$="collapse",x="bs.collapse",k=`.${x}`,A=".data-api",T={toggle:!0,parent:null},D={toggle:"boolean",parent:"(null|element)"},L=`show${k}`,z=`shown${k}`,j=`hide${k}`,I=`hidden${k}`,S=`click${k}${A}`,E="show",q="collapse",O="collapsing",B="collapsed",N=`:scope .${q} .${q}`,Z="collapse-horizontal",W="width",H="height",F=".collapse.show, .collapse.collapsing",M='[data-bs-toggle="collapse"]';class U extends c.default{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const s=d.default.find(M);for(let i=0,n=s.length;i<n;i++){const t=s[i],e=g(t),n=d.default.find(e).filter((t=>t===this._element));null!==e&&n.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return T}static get NAME(){return $}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=d.default.find(N,this._config.parent);e=d.default.find(F,this._config.parent).filter((e=>!t.includes(e)))}const s=d.default.findOne(this._selector);if(e.length){const i=e.find((t=>s!==t));if(t=i?U.getInstance(i):null,t&&t._isTransitioning)return}const i=r.default.trigger(this._element,L);if(i.defaultPrevented)return;e.forEach((e=>{s!==e&&U.getOrCreateInstance(e,{toggle:!1}).hide(),t||o.default.set(e,x,null)}));const n=this._getDimension();this._element.classList.remove(q),this._element.classList.add(O),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(O),this._element.classList.add(q,E),this._element.style[n]="",r.default.trigger(this._element,z)},a=n[0].toUpperCase()+n.slice(1),c=`scroll${a}`;this._queueCallback(l,this._element,!0),this._element.style[n]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=r.default.trigger(this._element,j);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,w(this._element),this._element.classList.add(O),this._element.classList.remove(q,E);const s=this._triggerArray.length;for(let n=0;n<s;n++){const t=this._triggerArray[n],e=p(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(O),this._element.classList.add(q),r.default.trigger(this._element,I)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(E)}_getConfig(t){return t={...T,...a.default.getDataAttributes(this._element),...t},t.toggle=Boolean(t.toggle),t.parent=_(t.parent),m($,t,D),t}_getDimension(){return this._element.classList.contains(Z)?W:H}_initializeChildren(){if(!this._config.parent)return;const t=d.default.find(N,this._config.parent);d.default.find(M,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=p(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(B):t.classList.add(B),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const s=U.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof s[t])throw new TypeError(`No method named "${t}"`);s[t]()}}))}}return r.default.on(document,S,M,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=g(this),s=d.default.find(e);s.forEach((t=>{U.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),C(U),U}))},908:function(t,e,s){"use strict";function i(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function n(t){const e=new Date(1e3*t),s=` ${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()}  ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`;return s}function l(t){const e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}s.d(e,{D:function(){return i},lf:function(){return n},$E:function(){return l}})},143:function(t,e,s){"use strict";s.d(e,{Z:function(){return u}});var i=s(6252);const n={class:"loadingio-spinner-spin-gw0b9unmls"},l=(0,i._)("div",{class:"ldio-jjk31xq51n"},[(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")])],-1),o=[l];function r(t,e,s,l,r,a){return(0,i.wg)(),(0,i.iD)("div",n,o)}var a={},d=s(3744);const c=(0,d.Z)(a,[["render",r]]);var u=c},524:function(t,e,s){"use strict";s.d(e,{Z:function(){return h}});var i=s(6252),n=s(3577);const l={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"300px"}},o={class:"fw-bold"};function r(t,e,s,r,a,d){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",{class:"position-absolute",style:(0,n.j5)([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.3"},{backgroundImage:`url(${a.BannerImage})`}])},null,4),(0,i._)("h1",o,(0,n.zw)(s.msg),1)])}var a=s(8722),d={props:{msg:String},data(){return{BannerImage:a}}},c=s(3744);const u=(0,c.Z)(d,[["render",r]]);var h=u},1220:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _t}});var i=s(6252),n=s(3577);const l=t=>((0,i.dD)("data-v-7929bb3c"),t=t(),(0,i.Cn)(),t),o={class:"container"},r={class:"breadcrumb mt-4"},a={class:"breadcrumb-item"},d=(0,i.Uk)(" 首頁 "),c=l((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單查詢",-1))),u={class:"row justify-content-center my-5"},h={class:"col-md-9"},g={class:"form-label text-start"},p=l((()=>(0,i._)("label",{class:"mb-2 fs-5",for:"orderId"},"訂單編號",-1))),f=["disabled"],_=l((()=>(0,i._)("i",{class:"bi bi-search"},null,-1))),m=[_],w={key:0,class:"col-md-9 mt-5","data-aos":"fade-up","data-aos-offset":"100"},b={class:"card"},y={class:"card-header",ref:"order"},v={class:"card-body"},C={class:"small text-end"},$={class:"accordion-item"},x={class:"accordion-header",id:"headingTwo"},k={class:"accordion-collapse collapse","aria-labelledby":"headingTwo",ref:"accordionCollapse"},A={class:"accordion-body list-unstyled",ref:"collapseUl"},T={class:"row g-0"},D={class:"col-4 col-md-3 col-lg-4 mt-3"},L=["src"],z={class:"col-8 col-md-9 col-lg-8 g-3 d-flex flex-column g-3 justify-content-between"},j={class:"fs-5 text-start d-flex justify-content-between"},I={class:"text-end"},S={class:"text-start mb-0"},E={class:"text-muted"},q={class:"mb-0 text-end fs-4"},O={class:"table table-hover mt-5"},B=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"訂單編號",-1))),N=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"確認付款",-1))),Z={key:0,class:"text-success"},W={key:1,class:"text-danger"},H={key:0},F=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"付款時間",-1))),M={class:"text-success"},U=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"優惠卷代碼",-1))),V={class:"text-success"},P=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"折扣百分比",-1))),Y={class:"text-danger"},Q=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"姓名",-1))),R=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"手機",-1))),K=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"E-mail",-1))),X=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"收件地址",-1))),G=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"備註",-1))),J=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold align-middle"},"訂單金額",-1))),tt={class:"text-decoration-line-through"},et=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold align-middle"},"折扣後金額",-1))),st={class:"text-danger"},it={key:3},nt=l((()=>(0,i._)("td",{scope:"row",class:"fw-bold align-middle"},"訂單金額",-1))),lt={class:"text-danger"};function ot(t,e,s,l,_,ot){const rt=(0,i.up)("LoadingComponent"),at=(0,i.up)("VLoading"),dt=(0,i.up)("HeaderBanner"),ct=(0,i.up)("RouterLink"),ut=(0,i.up)("VField"),ht=(0,i.up)("ErrorMessage"),gt=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(at,{active:_.isLoading,"z-index":1060},{default:(0,i.w5)((()=>[(0,i.Wm)(rt)])),_:1},8,["active"]),(0,i.Wm)(dt,{msg:"客戶訂單查詢"}),(0,i._)("div",o,[(0,i._)("ol",r,[(0,i._)("li",a,[(0,i.Wm)(ct,{to:"/",class:"nav-link active p-0"},{default:(0,i.w5)((()=>[d])),_:1})]),c]),(0,i._)("div",u,[(0,i._)("div",h,[(0,i._)("div",g,[p,(0,i.Wm)(gt,{class:"input-group",ref:"form",onSubmit:ot.searchOrder},{default:(0,i.w5)((({errors:t})=>[(0,i.Wm)(ut,{id:"orderId",type:"search",class:(0,n.C_)(["form-control",{"is-invalid":t["訂單編號"]}]),placeholder:"請輸入 訂單編號",name:"訂單編號",disabled:_.searchType,modelValue:_.orderId,"onUpdate:modelValue":e[0]||(e[0]=t=>_.orderId=t),rules:"required"},null,8,["disabled","modelValue","class"]),(0,i._)("button",{type:"submit",class:"input-group-text btn btn-primary",disabled:Object.keys(t).length>0||_.searchType||""===_.orderId,id:"search-button"},m,8,f),(0,i.Wm)(ht,{name:"訂單編號",class:"invalid-feedback"})])),_:1},8,["onSubmit"])])]),_.order?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",b,[(0,i._)("div",y,"訂單資訊",512),(0,i._)("div",v,[(0,i._)("p",C," 訂單成立時間:"+(0,n.zw)(ot.DateTimeFn(_.order.create_at)),1),(0,i._)("div",$,[(0,i._)("h2",x,[(0,i._)("button",{type:"button",class:"accordion-button fw-bold collapsed","aria-expanded":"false",style:{"font-size":"15px"},ref:"accordionButton",onClick:e[1]||(e[1]=(...t)=>ot.toggleAccordionCollapse&&ot.toggleAccordionCollapse(...t))}," 商品清單 ",512)]),(0,i._)("div",k,[(0,i._)("ul",A,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.order.products,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{class:"border-0",key:e},[(0,i._)("div",T,[(0,i._)("div",D,[(0,i._)("img",{src:t.product.imageUrl,class:"",alt:"products.product.title",style:{"object-fit":"contain",height:"150px"}},null,8,L)]),(0,i._)("div",z,[(0,i._)("div",j,[(0,i._)("p",null,(0,n.zw)(t.product.title),1),(0,i._)("small",I,"X"+(0,n.zw)(t.qty),1)]),(0,i._)("p",S,[(0,i._)("small",E,"NT$"+(0,n.zw)(t.product.price)+" / "+(0,n.zw)(t.product.unit),1)]),(0,i._)("p",q," NT$"+(0,n.zw)(t.total),1)])])])))),128))],512)],512)]),(0,i._)("table",O,[(0,i._)("tbody",null,[(0,i._)("tr",null,[B,(0,i._)("td",null,(0,n.zw)(_.order.id),1)]),(0,i._)("tr",null,[N,_.order.is_paid?((0,i.wg)(),(0,i.iD)("td",Z,"已付款")):((0,i.wg)(),(0,i.iD)("td",W,"未付款"))]),_.order.is_paid?((0,i.wg)(),(0,i.iD)("tr",H,[F,(0,i._)("td",M,(0,n.zw)(ot.DateTimeFn(_.order.paid_date)),1)])):(0,i.kq)("",!0),_.isCoupon.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("tr",null,[U,(0,i._)("td",V,(0,n.zw)(_.isCoupon.code),1)]),(0,i._)("tr",null,[P,(0,i._)("td",Y,(0,n.zw)(_.isCoupon.percent)+"%",1)])],64)):(0,i.kq)("",!0),(0,i._)("tr",null,[Q,(0,i._)("td",null,(0,n.zw)(_.order.user.name),1)]),(0,i._)("tr",null,[R,(0,i._)("td",null,(0,n.zw)(_.order.user.tel),1)]),(0,i._)("tr",null,[K,(0,i._)("td",null,(0,n.zw)(_.order.user.email),1)]),(0,i._)("tr",null,[X,(0,i._)("td",null,(0,n.zw)(_.order.user.address),1)]),(0,i._)("tr",null,[G,(0,i._)("td",null,(0,n.zw)(_.order.user.message),1)]),_.isCoupon.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("tr",null,[J,(0,i._)("td",tt," NT$ "+(0,n.zw)(_.beforeOrderPrice),1)]),(0,i._)("tr",null,[et,(0,i._)("td",st,"NT$ "+(0,n.zw)(Math.round(_.order.total)),1)])],64)):((0,i.wg)(),(0,i.iD)("tr",it,[nt,(0,i._)("td",lt,"NT$ "+(0,n.zw)(_.order.total),1)]))])])])])])):(0,i.kq)("",!0)])])],64)}var rt=s(524),at=s(143),dt=s(3863),ct=s.n(dt),ut=s(4902),ht=s(908),gt={data(){return{isLoading:!1,searchType:!1,orderId:"",order:"",isCoupon:{type:!1},beforeOrderPrice:0}},components:{LoadingComponent:at.Z,HeaderBanner:rt.Z},methods:{DateTimeFn:ht.lf,toggleAccordionCollapse(){this.accordionCollapse.toggle(),"collapsed"===this.accordionButton.getAttribute("class").split(" ").pop()?this.accordionButton.classList.remove("collapsed"):this.accordionButton.classList.add("collapsed")},searchOrder(){this.isLoading=!0,this.searchType=!0;const t=`https://vue3-course-api.hexschool.io/v2/api/clothes/order/${this.orderId}`;this.$http.get(t).then((t=>{const{order:e}=t.data;if(null===e)ut.Z.emit("push-message",{style:"danger",title:"請輸入正確的訂單編號"});else{this.order=e;let t=0;Object.values(this.order.products).forEach((e=>{if(void 0===e.coupon)this.isCoupon.type=!1;else{const{coupon:s}=e;t+=e.total,this.beforeOrderPrice=t,this.isCoupon=s,this.isCoupon.type=!0}})),ut.Z.emit("push-message",{style:"success",title:"訂單查詢成功"}),this.$refs.form.resetForm()}this.isLoading=!1,this.searchType=!1})).catch((t=>{this.isLoading=!1,ut.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))}},watch:{order(){this.$nextTick((()=>{if(void 0!==this.$refs.accordionCollapse){const{accordionButton:t,accordionCollapse:e}=this.$refs;this.accordionButton=t,this.accordionCollapse=new(ct())(e,{toggle:!1})}}))}},mounted(){}},pt=s(3744);const ft=(0,pt.Z)(gt,[["render",ot],["__scopeId","data-v-7929bb3c"]]);var _t=ft},8722:function(t,e,s){"use strict";t.exports=s.p+"img/banner3.3ef48998.jpg"}}]);
//# sourceMappingURL=220.d27e1248.js.map